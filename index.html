<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>System Console v1.23</title>
    <style>
        body {
            font-family: 'Lucida Console', monospace;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%);
            color: #20C20E;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .scanline {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to bottom,
                rgba(255,255,255,0) 0%,
                rgba(255,255,255,0.05) 10%,
                rgba(255,255,255,0) 100%);
            animation: scan 6s linear infinite;
            pointer-events: none;
            z-index: 999;
        }

        @keyframes scan {
            0% { transform: translateY(-100%); }
            100% { transform: translateY(100%); }
        }

        #chat-container {
            background-color: rgba(0, 15, 0, 0.95);
            border: 1px solid #20C20E;
            border-radius: 3px;
            padding: 20px;
            position: relative;
            margin-top: 40px;
            box-shadow: 0 0 20px rgba(32,194,14,0.2);
        }

        .counters {
            position: fixed;
            top: 15px;
            right: 15px;
            background: rgba(0,10,0,0.9);
            padding: 8px 12px;
            border: 1px solid #20C20E;
            color: #20C20E;
            font-size: 0.85em;
            z-index: 1000;
        }

        /* Остальные стили остаются аналогичными с корректировкой цветов */
    </style>
</head>
<body>
    <div class="scanline"></div>
    <audio id="sound" src="data:audio/wav;base64,UklGRl9vT19XQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YU"></audio>
    
    <div class="counters">
        ACCESSES: <span id="totalVisits">0</span><br>
        ACTIVE: <span id="onlineNow">0</span>
    </div>

    <div id="chat-container">
        <div id="messages"></div>
        <form id="message-form">
            <input type="text" id="message-input" placeholder="INPUT MESSAGE...">
            <button type="submit">EXECUTE</button>
        </form>
    </div>

    <script>
        (function(){
            // Защищённая обработка специальной подписи
            const k = [77,107,49,120].map(c => String.fromCharCode(c)).join('');
            
            // Счётчики
            let t = localStorage.getItem('t') || 0;
            t = +t + 1;
            localStorage.setItem('t', t);
            
            let o = localStorage.getItem('o') || 0;
            o = +o + 1;
            localStorage.setItem('o', o);

            window.addEventListener('beforeunload', () => {
                o = Math.max(0, o - 1);
                localStorage.setItem('o', o);
            });

            // Звуковые эффекты
            const snd = document.getElementById('sound');
            const msgInput = document.getElementById('message-input');
            
            msgInput.addEventListener('input', () => {
                snd.currentTime = 0;
                snd.play();
            });

            // Система сообщений
            let m = JSON.parse(localStorage.getItem('m')) || [];
            const c = document.getElementById('messages');
            
            function u() {
                c.innerHTML = m.map(msg => `
                    <div class="message">
                        <div>${msg.t}</div>
                        <span>${new Date(msg.d).toLocaleString()}</span>
                    </div>
                `).join('');
                c.scrollTop = c.scrollHeight;
            }

            document.getElementById('message-form').addEventListener('submit', e => {
                e.preventDefault();
                let t = msgInput.value.trim().replace(/#m/gi, '');
                
                if(t) {
                    if(/(^| )#([mM])$/.test(t)) {
                        t = t.replace(/#[mM]$/, '').trim();
                        t = `[${k}] ${t}`;
                    }
                    
                    m.push({t: t, d: Date.now()});
                    localStorage.setItem('m', JSON.stringify(m));
                    msgInput.value = '';
                    u();
                }
            });

            // Инициализация
            document.getElementById('totalVisits').textContent = t;
            document.getElementById('onlineNow').textContent = o;
            u();
        })();
    </script>
</body>
</html>
